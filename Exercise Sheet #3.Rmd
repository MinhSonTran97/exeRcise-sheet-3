---
title: 'Exercise Sheet #3'
subtitle: "Fortgeschrittene Statistische Software f√ºr NF"
author: "Minh Son Tran (12424799)"
date: "`2025-06-05"
#output: 
#  bookdown::pdf_document2: default
output: distill::distill_article
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  fig.align  = "center"
)

```

```{r, echo = FALSE, message=FALSE, warning=FALSE}
#install.packages("tidyverse")
#install.packages("palmerpenguins")
#install.packages("dplyr")
#install.packages("knitr")
#install.packages("easystats")
#install.packages("stargazer")
#install.packages("margins")
#install.packages("reticulate")
#install.packages("effects")
#install.packages("carData")
#install.packages("sf")
library(readr)
library(tidyverse)
library(palmerpenguins)
library(dplyr)
library(knitr)
library(ggplot2)
library(report)
library(parameters)
library(see)
library(reticulate)
library(margins)
library(lattice)
library(effects)
library(sf)
```

## Exercise 1

### d)

Git's Strengths and Weaknesses:

2 strengths:

-   It allow user to create branches, makes it easy to experiment
    without affecting the main codebase.

-   It is open source and actively maintained.

2 weaknesses:

-   User requires time to learn how to use Git properly because of
    confusing commands.

-   Git is not very good for project with binary or very large files

## Exercise 2

### a)

GitHub repo: <https://github.com/MinhSonTran97/exeRcise-sheet-3.git>

## Exercise 3

### a)

```{r}
pixar_films <- read_csv("data/pixar_films.csv") %>%
  filter(!is.na(film))
```

The possible film_rating values are
`r unique(pixar_films$film_rating)`:

-   "G": General audiences

-   "PG": Parental guidance is advised

-   "N/A": Film Rating is not available / no rating provided. This is
    included since we only removed entries with missing titles.

```{r}
pixar_films <- pixar_films %>%
  mutate(film_rating = factor(film_rating, levels = c("G", "PG"), ordered = TRUE))
```

Converting film_rating into rating_factor is appropriate because:

-   film_rating represents a set of discrete categories, not numeric
    values. These categories describe the type of audience the film is
    suitable for, not a measurable quantity.

-   Treating film_rating as a factor helps R recognize it as a
    categorical variable, which allow us to better summarize, plot, and
    handle the data in modeling.

### b)

```{r}
pixar_films <- pixar_films %>%
  mutate(series = case_when(
    str_detect(film,"Toy Story") ~ "Toy Story",
    str_detect(film,"Cars") ~ "Cars",
    str_detect(film,"Incredibles") ~ "Incredibles",
    str_detect(film,"Finding") ~ "Finding",
    str_detect(film,"Monsters") ~ "Monsters",
    TRUE ~ NA_character_
  )) %>%
  group_by(series)

film_series <- pixar_films %>%
  filter(str_detect(film,"Toy Story|Cars|Incredibles|Finding|Monsters")) %>%
  summarise(films = paste(film, collapse = " - "), number_of_entries = n()) %>%
  ungroup()
film_series
```

### c)

```{r}
public_response <- read_csv("data/public_response.csv")

unique(public_response$cinema_score)  
```

We can see that the only rating scores are
`r unique(public_response$cinema_score)`. We would assume that NA means
the score is missing or not included, meaning the scoring system will
look like this : A- \< A \< A+

```{r}
public_response <- public_response %>%
  mutate(cinema_score = factor(cinema_score, levels = c("A-", "A", "A+"), ordered = TRUE))

pixar_sum <- left_join(pixar_films, public_response, by = "film")
```

### d)

```{r}
pixar_series <- pixar_sum %>%
  filter(!is.na(series)) %>%
  filter(!is.na(metacritic))

ggplot(
  data = pixar_series,
  aes(
    x = series,
    y = metacritic,
    fill = fct_reorder(film, release_date)
  )) +
  geom_col(
    width = 0.75,
    position = position_dodge(width = 0.75)) +
  labs(
    x = NULL,
    y = "Metacritic",
    fill = "Film (chronological)",
    title = "How well do the sequels perform compared to the first installments") +
  theme_minimal()
```


We can see that the first installments in each series all have the highest Metacritic score. After that there, is a clear downward trend in most series, meaning that the sequels usually couldn't perform as well as the prequels.


















